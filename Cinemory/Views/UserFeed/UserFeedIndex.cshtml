@model Cinemory.Models.ViewModels.UserFeedViewModel

﻿@{
    ViewBag.NavMenu = "User Feed";
}

<div class="user-feed">
    <h2>🎬 Welcome back, @Model.UserName!</h2>

    <!-- Watchlisted -->
    <section style="margin-top: 30px;">
        <h3>🎞️ Watchlist</h3>
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
            @foreach (var movie in Model.WatchlistedMovies)
            {
                <div style="width: 150px;">
                    <img src="@movie.PosterUrl" alt="@movie.Movie?.Name" style="width: 100%; border-radius: 8px;" />
                    <p>@movie.Movie?.Name</p>
                </div>
            }
        </div>
    </section>

    <!-- Watched -->
    <section style="margin-top: 40px;">
        <h3>✅ Watched</h3>
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
            @foreach (var movie in Model.WatchedMovies)
            {
                <div style="width: 150px;">
                    <img src="@movie.PosterUrl" alt="@movie.Movie?.Name" style="width: 100%; border-radius: 8px;" />
                    <p>@movie.Movie?.Name</p>
                </div>
            }
        </div>
    </section>

    <!-- Recommended -->
    <section style="margin-top: 40px;">
        <h3>🤖 Recommended for You</h3>
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
            @foreach (var movie in Model.RecommendedMovies)
            {
                <div style="width: 150px;">
                    <img src="@movie.PosterUrl" alt="@movie.Movie?.Name" style="width: 100%; border-radius: 8px;" />
                    <p>@movie.Movie?.Name</p>
                </div>
            }
        </div>
    </section>

    <!-- Widget (taste of cinema vs.) -->
    <section style="margin-top: 40px;">
        <h3>📰 Movie News</h3>
        <iframe src="@Model.WidgetUrl" style="width:100%; height:400px; border:none; border-radius: 8px;"></iframe>
    </section>
</div>
