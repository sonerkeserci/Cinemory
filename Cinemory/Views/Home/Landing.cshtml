@{
	Layout = "_Layout";
	ViewBag.BodyClass = "landing-page";
	ViewBag.ShowLayoutParts = false;
}

<div class="navbar">
	<h1>Cinemory</h1>
	<ul>
		<li><a asp-controller="Account" asp-action="Login">SIGN IN</a></li>
		<li><a href="javascript:void(0);" onclick="loadRegisterForm()">Register</a></li>
		<li><a asp-controller="Movies" asp-action="Index">FILMS</a></li>
		<li><a asp-controller="Users" asp-action="Index">MEMBERS</a></li>
	</ul>
</div>

<div class="hero">
	<div class="overlay">
		<h2>Rate. Review. Remember.</h2>

		<div class="quote">
			“A book read by a thousand different people is a thousand different books.”<br>
			― Andrei Tarkovsky
		</div>
	</div>
</div>


<style>
	body.landing-page {
		margin: 0;
		padding: 0;
		overflow-x: hidden;
		background-color: #222831;
	}

		body.landing-page .navbar {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0px 20px;
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			background-color: rgba(0, 0, 0, 0.8);
			backdrop-filter: blur(2px);
			z-index: 10;
		}


	.navbar h1 {
		font-size: 1.85em;
		letter-spacing: 1.7px;
		color: #add2c9;
		font-family: GraphikWeb, -apple-system, BlinkMacSystemFont, Segoe UI, Hiragino Sans, Meiryo, sans-serif, ColorEmoji;
		font-weight: 800;
	}

	.navbar ul {
		list-style: none;
		display: flex;
		gap: 20px;
		margin: 0;
		padding: 0;
	}

		.navbar ul li a {
			color: #add2c9;
			font-weight: 600;
			font-family: GraphikWeb, -apple-system, BlinkMacSystemFont, Segoe UI, Hiragino Sans, Meiryo, sans-serif, ColorEmoji;
			text-decoration: none;
			text-transform: uppercase;
			font-size: 0.95rem;
			transition: transform 0.2s ease, color 0.2s ease;
		}

			.navbar ul li a:hover {
				transform: scale(1.08);
				color: #ffffff;
			}

	.hero {
		background-image: url('/images/cinemory_landing_bg.jpg');
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		height: 100vh;
		width: 100vw;
		margin: 0;
		padding: 0;
		position: relative;
		z-index: 1;
	}

	.overlay {
		background-color: rgba(0, 0, 0, 0.4);
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		text-align: center;
		padding: 0;
	}

		.overlay h2 {
			font-size: 2.4rem;
			font-weight: 600;
			font-family: GraphikWeb, -apple-system, BlinkMacSystemFont, Segoe UI, Hiragino Sans, Meiryo, sans-serif, ColorEmoji;
			color: #add2c9;
			letter-spacing: 2px;
			margin-bottom: 300px;
		}

		.overlay p {
			font-size: 1.1em;
			color: #ccc;
		}

	.quote {
		position: absolute;
		bottom: 200px;
		right: 40px;
		font-size: 1em;
		font-style: italic;
		color: #ffffff;
		max-width: 280px;
		text-align: right;
	}
</style>


<!-- MODAL -->
<div id="registerModal" style="display:none; position:fixed; top:10%; right:5%; background:#111; padding:20px; border-radius:10px; z-index:1000; width:400px;">
	<div id="registerModalContent">
		<!-- Partial View işleri -->
	</div>
</div>



<script>
	function loadRegisterForm() {
		fetch("/Account/RegisterPartial")
			.then(res => res.text())
			.then(html => {
				document.getElementById("registerModalContent").innerHTML = html;
				document.getElementById("registerModal").style.display = "block";
			});
	}

	function submitRegisterForm(e) {
		e.preventDefault();
		var form = document.getElementById("registerForm");
		var formData = new FormData(form);

		fetch("/Account/Register", {
			method: "POST",
			body: formData
		})
		.then(res => {
			if (res.headers.get("content-type")?.includes("application/json")) {
				return res.json();
			} else {
				return res.text();
			}
		})
		.then(data => {
			if (data.success) {
				window.location.href = "/Movie/Index";
			} else if (typeof data === "string") {
				document.getElementById("registerModalContent").innerHTML = data;
			}
		});
	}
</script>

